# libeps — Edit PBR savefiles

This library allows editing a PBR savefile (`PbrSaveData`) in various ways, particularly oriented towards changing
the data of the Pokémon in storage.

For the documentation on the library's interface and usage, read [the docs.md file](docs.md).

Credit for figuring out and making public the decryption routines goes to TuxSH; info available [here][pbrcrypto].

[pbrcrypto]: https://projectpokemon.org/forums/showthread.php?47625-Pok%E9mon-Battle-Revolution-save-research-thread

***

### Compiling from source

Linux users will need to compile the library from source. (Windows users may use the precompiled .dll files.)

In order to compile the library, just type `make`. `make clean` will remove the compiled files.

The Windows binaries are also cross-compiled from Linux (other platforms not tested); this requires the
`gcc-mingw-w64` package. To build the Windows binaries, type `make windows`.

***

### Using the library

Linux users will have to compile from source; after it is compiled, link with the `libeps.so` library file that will
be generated by the compilation process.

Windows users may compile from source or use the precompiled binaries; either way, use the appropriate .dll file that
matches the platform (`libeps32.dll` for 32-bit platforms or `libeps64.dll` for 64-bit platforms).

In order to use the library from C/C++ code, include `libeps.h`.

The Python binding is contained in `eps.py`. In order to use it, the library file must be placed in the same directory
as the Python file. On Linux, simply place `libeps.so` in the same directory as `eps.py`; on Windows, copy the
appropriate .dll file (`libeps32.dll` or `libeps64.dll`) to the same folder as `eps.py` and name it `libeps.dll`.

**Note that using the wrong .dll file with the Python binding will not work.** The .dll must match the platform for
which the Python executable was compiled (`libeps32.dll` for 32-bit Python or `libeps64.dll` for 64-bit Python). The
file must also be renamed to `libeps.dll` — this is intentionally done to force users to select the correct version.
